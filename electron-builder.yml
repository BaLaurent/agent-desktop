appId: com.agent.desktop
productName: Agent Desktop
publish:
  - provider: github
    owner: BaLaurent
    repo: agent-desktop
directories:
  buildResources: build
  output: release
asar: false
files:
  - out
  - package.json
extraResources:
  - from: build/trayTemplate.png
    to: trayTemplate.png
  - from: build/trayTemplate@2x.png
    to: trayTemplate@2x.png
  - from: build/trayDark.png
    to: trayDark.png
  - from: build/trayDark@2x.png
    to: trayDark@2x.png
  - from: build/trayLight.png
    to: trayLight.png
  - from: build/trayLight@2x.png
    to: trayLight@2x.png
extraMetadata:
  main: ./out/main/index.js
mac:
  target:
    - target: dmg
      arch:
        - arm64
  category: public.app-category.productivity
  icon: build/icon.icns
  extendInfo:
    NSMicrophoneUsageDescription: "Agent Desktop uses the microphone for voice input transcription (via whisper.cpp). Audio is processed locally and never sent to any server."

linux:
  target:
    - target: AppImage
      arch:
        - x64
    - target: deb
      arch:
        - x64
  category: Utility
  maintainer: Agent Desktop Contributors
  desktop:
    MimeType: x-scheme-handler/agent
  synopsis: Open-source Linux desktop client for Claude AI
win:
  target:
    - target: nsis
      arch:
        - x64
    - target: portable
      arch:
        - x64
  icon: build/icon.ico
nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
